(this.webpackJsonptodotest=this.webpackJsonptodotest||[]).push([[0],{10:function(e,t,n){e.exports={wrapperBody:"body_wrapperBody__3qt1z",wrapperTask:"body_wrapperTask__1mjWT",task:"body_task__VnKp5",taskDone:"body_taskDone__vTfVp",inputCheckboxInputButton:"body_inputCheckboxInputButton__WMJNs",deleteButton:"body_deleteButton__2j6R8"}},13:function(e,t,n){e.exports={wrapperTitleTask:"TitleTask_wrapperTitleTask__3gZgc",wrapperInputErrorMessage:"TitleTask_wrapperInputErrorMessage__Er3eV",inputTitle:"TitleTask_inputTitle__3MQWf",errorInput:"TitleTask_errorInput__hlgNC",errorMessage:"TitleTask_errorMessage__2s77e",buttonAddTitle:"TitleTask_buttonAddTitle__28n0k"}},29:function(e,t,n){e.exports={wrapperErrorModal:"errorModal_wrapperErrorModal__29ALo",addOkButton:"errorModal_addOkButton__24O4q"}},39:function(e,t,n){e.exports={wrapperApp:"app_wrapperApp__pn1Zb"}},53:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r,a,c=n(2),s=n(0),u=n.n(s),o=n(18),i=n.n(o),l=(n(53),n(39)),p=n.n(l),b=n(3),d=n(10),j=n.n(d),f=n(6),O=n(7),k=n(80),h=n(81),x=n(8),g=n.n(x),_=n(17),T=n(45),v=n(41),m=n.n(v).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}});r="free@samuraijs.com",a="free",m.post("/auth/login",{email:r,password:a});var w=function(){return m.get("/todo-lists")},y=function(e){return m.post("/todo-lists",{title:e})},E=function(e){return m.delete("/todo-lists/".concat(e))},S=function(e,t){return m.put("/todo-lists/".concat(e),{title:t})},M={tasks:[],messageError:""},C="GET_TASKS",I="PUT_TASKS",B="DELETE_TASKS",N="SET_TASKS",A="SET_ERROR_MESSAGE",D=function(e){return{type:C,getTasks:e}},P=function(e){return{type:B,id:e}},F=function(e){return{type:A,errorMessage:e}},K=function(){return function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:n=e.sent,t(D(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(F(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(b.a)(Object(b.a)({},e),{},{tasks:t.getTasks});case I:return Object(b.a)(Object(b.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(b.a)(Object(b.a)({},e),{},{title:t.newTitleTask})}))});case B:return Object(b.a)(Object(b.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case N:return Object(b.a)(Object(b.a)({},e),{},{tasks:Object(T.a)(t.tasks)});case A:return Object(b.a)(Object(b.a)({},e),{},{messageError:t.errorMessage})}return e},R=function(e){var t=e.id,n=e.title,r=e.index,a=e.exchangeItems,u=Object(f.b)(),o=Object(s.useState)(""),i=Object(O.a)(o,2),l=i[0],p=i[1],b=Object(s.useState)(null),d=Object(O.a)(b,2),x=d[0],T=d[1],v=Object(s.useState)(!1),m=Object(O.a)(v,2),w=m[0],y=m[1],M=function(e){u(function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:0===t.sent.data.resultCode&&n(P(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(F(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},C=function(e){u(function(e,t){return function(){var n=Object(_.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e,t);case 3:r(K()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(F(n.t0.message));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,l)),T(null)},I=Object(s.useRef)(null),B=Object(k.a)({accept:"listItem",hover:function(e,t){if(I.current){var n=e.index,c=r;n!==c&&(a(n,c),e.index=c)}}}),N=Object(O.a)(B,2)[1],A=Object(h.a)({item:{type:"listItem",id:t,index:r},collect:function(e){return{isDragging:e.isDragging()}}}),D=Object(O.a)(A,2)[1];return D(N(I)),Object(c.jsxs)("ul",{ref:D(N(I)),className:w?j.a.taskDone:j.a.task,children:[Object(c.jsx)("div",{draggable:!0,onClick:function(){return T(t)},style:{display:"flex",alignItems:"center"},children:t===x?Object(c.jsx)("input",{value:l,autoFocus:!0,onBlur:function(){return C(t)},onChange:function(e){return p(e.currentTarget.value)}}):n},t),Object(c.jsxs)("div",{className:j.a.inputCheckboxInputButton,children:[Object(c.jsx)("input",{type:"checkbox",checked:w,onChange:function(){return y(!w)}}),Object(c.jsx)("button",{className:j.a.deleteButton,onClick:function(){return M(t)},children:"X"})]})]})},J=n(42),V=n.n(J),W=n(13),q=n.n(W),G=function(){var e=Object(s.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),u=Object(O.a)(a,2),o=u[0],i=u[1],l=Object(f.b)();return Object(c.jsxs)("div",{className:q.a.wrapperTitleTask,children:[Object(c.jsxs)("div",{className:q.a.wrapperInputErrorMessage,children:[Object(c.jsx)("input",{className:o?q.a.errorInput:q.a.inputTitle,value:n,onChange:function(e){return r(e.currentTarget.value)}}),o&&Object(c.jsx)("span",{style:{color:"red"},children:"Enter character!"})]}),Object(c.jsx)("button",{className:q.a.buttonAddTitle,style:{marginLeft:50},onClick:function(){""!==n.trim()?(l(function(e){return function(){var t=Object(_.a)(g.a.mark((function t(n){var r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:return t.next=5,w();case 5:r=t.sent,a=r.data,n(D(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(F(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),r(""),i(!1)):i(!0)},children:"add task"})]})},U=n(29),Z=n.n(U),z=function(e){var t=e.errorMessage,n=Object(f.b)();return Object(c.jsxs)("div",{className:Z.a.wrapperErrorModal,children:[Object(c.jsx)("h1",{style:{color:"red"},children:t}),Object(c.jsx)("button",{className:Z.a.addOkButton,onClick:function(){n(F(""))},children:"ok"})]})},Q=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.taskPage.tasks})),n=Object(f.c)((function(e){return e.taskPage.messageError}));Object(s.useEffect)((function(){e(K())}),[]);var r=Object(s.useCallback)((function(n,r){var a,c=t[n];e((a=V()(t,{$splice:[[n,1],[r,0,c]]}),{type:N,tasks:a}))}),[t]),a=t.map((function(e,t){return Object(c.jsx)(R,Object(b.a)(Object(b.a)({},e),{},{index:t,exchangeItems:r}),e.id)}));return Object(c.jsx)("div",{className:j.a.wrapperBody,children:n.length>1?Object(c.jsx)(z,{errorMessage:n}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(G,{}),Object(c.jsx)("div",{className:j.a.wrapperTask,children:a})]})})},X=n(79),Y=n(44),$=function(){return Object(c.jsx)("div",{className:p.a.wrapperApp,children:Object(c.jsx)(X.a,{backend:Y.a,children:Object(c.jsx)(Q,{})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ee=n(9),te=n(43),ne=Object(ee.c)({taskPage:L}),re=Object(ee.d)(ne,Object(ee.a)(te.a));i.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(f.a,{store:re,children:Object(c.jsx)($,{})})}),document.getElementById("root")),H()}},[[77,1,2]]]);
//# sourceMappingURL=main.83cdc321.chunk.js.map