(this.webpackJsonptodotest=this.webpackJsonptodotest||[]).push([[0],{10:function(t,e,n){t.exports={wrapperBody:"body_wrapperBody__3qt1z",wrapperTask:"body_wrapperTask__1mjWT",task:"body_task__VnKp5",taskDone:"body_taskDone__vTfVp",inputCheckboxInputButton:"body_inputCheckboxInputButton__WMJNs",deleteButton:"body_deleteButton__2j6R8"}},13:function(t,e,n){t.exports={wrapperTitleTask:"TitleTask_wrapperTitleTask__3gZgc",wrapperInputErrorMessage:"TitleTask_wrapperInputErrorMessage__Er3eV",inputTitle:"TitleTask_inputTitle__3MQWf",errorInput:"TitleTask_errorInput__hlgNC",errorMessage:"TitleTask_errorMessage__2s77e",buttonAddTitle:"TitleTask_buttonAddTitle__28n0k"}},38:function(t,e,n){t.exports={wrapperApp:"app_wrapperApp__pn1Zb"}},52:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(0),c=n.n(a),s=n(18),u=n.n(s),i=(n(52),n(38)),o=n.n(i),p=n(3),l=n(10),b=n.n(l),d=n(6),j=n(7),f=n(79),O=n(80),k=n(8),T=n.n(k),h=n(17),x=n(44),_=n(40),g=n.n(_).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}}),v=function(){return g.get("/todo-lists")},w=function(t){return g.post("/todo-lists",{title:t})},m=function(t){return g.delete("/todo-lists/".concat(t))},y=function(t,e){return g.put("/todo-lists/".concat(t),{title:e})},I={tasks:[]},C="GET_TASKS",S="PUT_TASKS",B="DELETE_TASKS",E="SET_TASKS",N=function(t){return{type:C,getTasks:t}},A=function(t,e){return{type:S,id:t,newTitleTask:e}},M=function(t){return{type:B,id:t}},D=function(){return function(){var t=Object(h.a)(T.a.mark((function t(e){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=t.sent,e(N(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(p.a)(Object(p.a)({},t),{},{tasks:e.getTasks});case S:return Object(p.a)(Object(p.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id!==e.id?t:Object(p.a)(Object(p.a)({},t),{},{title:e.newTitleTask})}))});case B:return Object(p.a)(Object(p.a)({},t),{},{tasks:t.tasks.filter((function(t){return t.id!==e.id}))});case E:return Object(p.a)(Object(p.a)({},t),{},{tasks:Object(x.a)(e.tasks)})}return t},P=function(t){var e=t.id,n=t.title,c=t.index,s=t.exchangeItems,u=Object(d.b)(),i=Object(a.useState)(""),o=Object(j.a)(i,2),p=o[0],l=o[1],k=Object(a.useState)(null),x=Object(j.a)(k,2),_=x[0],g=x[1],v=Object(a.useState)(!1),w=Object(j.a)(v,2),I=w[0],C=w[1],S=function(t){u(function(t){return function(){var e=Object(h.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:0===e.sent.data.resultCode&&n(M(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},B=function(t){u(function(t,e){return function(){var n=Object(h.a)(T.a.mark((function n(r){var a,c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(t,e);case 2:a=n.sent,c=a.data,r(A(c));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t,p)),u(D()),g(null)},E=Object(a.useRef)(null),N=Object(f.a)({accept:"listItem",hover:function(t,e){if(E.current){var n=t.index,r=c;n!==r&&(s(n,r),t.index=r)}}}),K=Object(j.a)(N,2)[1],P=Object(O.a)({item:{type:"listItem",id:e,index:c},collect:function(t){return{isDragging:t.isDragging()}}}),F=Object(j.a)(P,2)[1];return F(K(E)),Object(r.jsxs)("ul",{ref:F(K(E)),className:I?b.a.taskDone:b.a.task,children:[Object(r.jsx)("div",{draggable:!0,onClick:function(){return g(e)},style:{display:"flex",alignItems:"center"},children:e===_?Object(r.jsx)("input",{value:p,autoFocus:!0,onBlur:function(){return B(e)},onChange:function(t){return l(t.currentTarget.value)}}):n},e),Object(r.jsxs)("div",{className:b.a.inputCheckboxInputButton,children:[Object(r.jsx)("input",{type:"checkbox",checked:I,onChange:function(){return C(!I)}}),Object(r.jsx)("button",{className:b.a.deleteButton,onClick:function(){return S(e)},children:"X"})]})]})},F=n(41),L=n.n(F),J=n(13),R=n.n(J),V=function(){var t=Object(a.useState)(""),e=Object(j.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(!1),u=Object(j.a)(s,2),i=u[0],o=u[1],p=Object(d.b)();return Object(r.jsxs)("div",{className:R.a.wrapperTitleTask,children:[Object(r.jsxs)("div",{className:R.a.wrapperInputErrorMessage,children:[Object(r.jsx)("input",{className:i?R.a.errorInput:R.a.inputTitle,value:n,onChange:function(t){return c(t.currentTarget.value)}}),i&&Object(r.jsx)("span",{style:{color:"red"},children:"\u0412\u0432\u0438\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b!"})]}),Object(r.jsx)("button",{className:R.a.buttonAddTitle,style:{marginLeft:50},onClick:function(){""!==n.trim()?(p(function(t){return function(){var e=Object(h.a)(T.a.mark((function e(n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.sent.data,e.next=6,v();case 6:r=e.sent,a=r.data,n(N(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(n)),c(""),o(!1)):o(!0)},children:"add task"})]})},W=function(){var t=Object(d.b)(),e=Object(d.c)((function(t){return t.taskPage.tasks}));Object(a.useEffect)((function(){t(D())}),[]);var n=Object(a.useCallback)((function(n,r){var a,c=e[n];t((a=L()(e,{$splice:[[n,1],[r,0,c]]}),{type:E,tasks:a}))}),[e]),c=e.map((function(t,e){return Object(r.jsx)(P,Object(p.a)(Object(p.a)({},t),{},{index:e,exchangeItems:n}),t.id)}));return Object(r.jsxs)("div",{className:b.a.wrapperBody,children:[Object(r.jsx)(V,{}),Object(r.jsx)("div",{className:b.a.wrapperTask,children:c})]})},U=n(78),Z=n(43),q=function(){return Object(r.jsx)("div",{className:o.a.wrapperApp,children:Object(r.jsx)(U.a,{backend:Z.a,children:Object(r.jsx)(W,{})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))},G=n(9),Q=n(42),X=Object(G.c)({taskPage:K}),Y=Object(G.d)(X,Object(G.a)(Q.a));u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{store:Y,children:Object(r.jsx)(q,{})})}),document.getElementById("root")),z()}},[[76,1,2]]]);
//# sourceMappingURL=main.3e8ebc03.chunk.js.map