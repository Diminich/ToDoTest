(this.webpackJsonptodotest=this.webpackJsonptodotest||[]).push([[0],{10:function(e,t,n){e.exports={wrapperBody:"body_wrapperBody__3qt1z",wrapperTask:"body_wrapperTask__1mjWT",task:"body_task__VnKp5",taskDone:"body_taskDone__vTfVp",inputCheckboxInputButton:"body_inputCheckboxInputButton__WMJNs",deleteButton:"body_deleteButton__2j6R8"}},14:function(e,t,n){e.exports={wrapperTitleTask:"TitleTask_wrapperTitleTask__3gZgc",wrapperInputErrorMessage:"TitleTask_wrapperInputErrorMessage__Er3eV",inputTitle:"TitleTask_inputTitle__3MQWf",errorInput:"TitleTask_errorInput__hlgNC",errorMessage:"TitleTask_errorMessage__2s77e",buttonAddTitle:"TitleTask_buttonAddTitle__28n0k"}},29:function(e,t,n){e.exports={wrapperErrorModal:"errorModal_wrapperErrorModal__29ALo",addOkButton:"errorModal_addOkButton__24O4q"}},39:function(e,t,n){e.exports={wrapperApp:"app_wrapperApp__pn1Zb"}},53:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(18),u=n.n(s),o=(n(53),n(39)),i=n.n(o),p=n(3),l=n(10),b=n.n(l),j=n(4),d=n(8),f=n(80),O=n(81),k=n(7),h=n.n(k),g=n(13),x=n(45),_=n(41),v=n.n(_).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}}),T=function(){return v.get("/todo-lists")},m=function(e){return v.post("/todo-lists",{title:e})},w=function(e){return v.delete("/todo-lists/".concat(e))},y=function(e,t){return v.put("/todo-lists/".concat(e),{title:t})},E=function(e,t){return v.post("/auth/login",{email:e,password:t})},S={tasks:[],messageError:"",isLogin:!1},C="GET_TASKS",I="PUT_TASKS",M="DELETE_TASKS",B="SET_TASKS",N="SET_ERROR_MESSAGE",A="SET_LOGIN",L=function(e){return{type:C,getTasks:e}},P=function(e){return{type:M,id:e}},D=function(e){return{type:N,errorMessage:e}},F=function(){return function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:n=e.sent,t(L(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(D(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(p.a)(Object(p.a)({},e),{},{tasks:t.getTasks});case I:return Object(p.a)(Object(p.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(p.a)(Object(p.a)({},e),{},{title:t.newTitleTask})}))});case M:return Object(p.a)(Object(p.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case B:return Object(p.a)(Object(p.a)({},e),{},{tasks:Object(x.a)(t.tasks)});case N:return Object(p.a)(Object(p.a)({},e),{},{messageError:t.errorMessage});case A:return Object(p.a)(Object(p.a)({},e),{},{isLogin:!0})}return e},R=function(e){var t=e.id,n=e.title,c=e.index,s=e.exchangeItems,u=Object(j.b)(),o=Object(a.useState)(""),i=Object(d.a)(o,2),p=i[0],l=i[1],k=Object(a.useState)(null),x=Object(d.a)(k,2),_=x[0],v=x[1],T=Object(a.useState)(!1),m=Object(d.a)(T,2),E=m[0],S=m[1],C=function(e){u(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:0===t.sent.data.resultCode&&n(P(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(D(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},I=function(e){u(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(e,t);case 3:r(F()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(D(n.t0.message));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,p)),v(null)},M=Object(a.useRef)(null),B=Object(f.a)({accept:"listItem",hover:function(e,t){if(M.current){var n=e.index,r=c;n!==r&&(s(n,r),e.index=r)}}}),N=Object(d.a)(B,2)[1],A=Object(O.a)({item:{type:"listItem",id:t,index:c},collect:function(e){return{isDragging:e.isDragging()}}}),L=Object(d.a)(A,2)[1];return L(N(M)),Object(r.jsxs)("ul",{ref:L(N(M)),className:E?b.a.taskDone:b.a.task,children:[Object(r.jsx)("div",{draggable:!0,onClick:function(){return v(t)},style:{display:"flex",alignItems:"center"},children:t===_?Object(r.jsx)("input",{value:p,autoFocus:!0,onBlur:function(){return I(t)},onChange:function(e){return l(e.currentTarget.value)}}):n},t),Object(r.jsxs)("div",{className:b.a.inputCheckboxInputButton,children:[Object(r.jsx)("input",{type:"checkbox",checked:E,onChange:function(){return S(!E)}}),Object(r.jsx)("button",{className:b.a.deleteButton,onClick:function(){return C(t)},children:"X"})]})]})},G=n(42),J=n.n(G),V=n(14),W=n.n(V),q=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),u=Object(d.a)(s,2),o=u[0],i=u[1],p=Object(j.b)();return Object(r.jsxs)("div",{className:W.a.wrapperTitleTask,children:[Object(r.jsxs)("div",{className:W.a.wrapperInputErrorMessage,children:[Object(r.jsx)("input",{className:o?W.a.errorInput:W.a.inputTitle,value:n,onChange:function(e){return c(e.currentTarget.value)}}),o&&Object(r.jsx)("span",{style:{color:"red"},children:"Enter character!"})]}),Object(r.jsx)("button",{className:W.a.buttonAddTitle,style:{marginLeft:50},onClick:function(){""!==n.trim()?(p(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:return t.next=5,T();case 5:r=t.sent,a=r.data,n(L(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(D(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),c(""),i(!1)):i(!0)},children:"add task"})]})},U=n(29),Z=n.n(U),z=function(e){var t=e.errorMessage,n=Object(j.b)();return Object(r.jsxs)("div",{className:Z.a.wrapperErrorModal,children:[Object(r.jsx)("h1",{style:{color:"red"},children:t}),Object(r.jsx)("button",{className:Z.a.addOkButton,onClick:function(){n(D(""))},children:"ok"})]})},Q=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.taskPage.tasks})),n=Object(j.c)((function(e){return e.taskPage.messageError}));Object(a.useEffect)((function(){e(F())}),[]);var c=Object(a.useCallback)((function(n,r){var a,c=t[n];e((a=J()(t,{$splice:[[n,1],[r,0,c]]}),{type:B,tasks:a}))}),[t]),s=t.map((function(e,t){return Object(r.jsx)(R,Object(p.a)(Object(p.a)({},e),{},{index:t,exchangeItems:c}),e.id)}));return Object(r.jsx)("div",{className:b.a.wrapperBody,children:n.length>1?Object(r.jsx)(z,{errorMessage:n}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{}),Object(r.jsx)("div",{className:b.a.wrapperTask,children:s})]})})},X=n(79),Y=n(44),$=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.taskPage.isLogin}));return Object(a.useEffect)((function(){e(function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("free@samuraijs.com","free");case 2:0===e.sent.data.resultCode&&t({type:A});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.jsx)("div",{className:i.a.wrapperApp,children:t&&Object(r.jsx)(X.a,{backend:Y.a,children:Object(r.jsx)(Q,{})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ee=n(9),te=n(43),ne=Object(ee.c)({taskPage:K}),re=Object(ee.d)(ne,Object(ee.a)(te.a));u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(j.a,{store:re,children:Object(r.jsx)($,{})})}),document.getElementById("root")),H()}},[[77,1,2]]]);
//# sourceMappingURL=main.490cca53.chunk.js.map