(this.webpackJsonptodotest=this.webpackJsonptodotest||[]).push([[0],{10:function(e,t,n){e.exports={wrapperBody:"body_wrapperBody__3qt1z",wrapperTask:"body_wrapperTask__1mjWT",task:"body_task__VnKp5",taskDone:"body_taskDone__vTfVp",inputCheckboxInputButton:"body_inputCheckboxInputButton__WMJNs",deleteButton:"body_deleteButton__2j6R8"}},13:function(e,t,n){e.exports={wrapperTitleTask:"TitleTask_wrapperTitleTask__3gZgc",wrapperInputErrorMessage:"TitleTask_wrapperInputErrorMessage__Er3eV",inputTitle:"TitleTask_inputTitle__3MQWf",errorInput:"TitleTask_errorInput__hlgNC",errorMessage:"TitleTask_errorMessage__2s77e",buttonAddTitle:"TitleTask_buttonAddTitle__28n0k"}},29:function(e,t,n){e.exports={wrapperErrorModal:"errorModal_wrapperErrorModal__29ALo",addOkButton:"errorModal_addOkButton__24O4q"}},39:function(e,t,n){e.exports={wrapperApp:"app_wrapperApp__pn1Zb"}},53:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(18),u=n.n(s),o=(n(53),n(39)),i=n.n(o),l=n(3),p=n(10),b=n.n(p),d=n(6),j=n(7),f=n(80),O=n(81),k=n(8),h=n.n(k),x=n(17),g=n(45),_=n(41),T=n.n(_).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}}),v=function(){return T.get("/todo-lists")},m=function(e){return T.post("/todo-lists",{title:e})},w=function(e){return T.delete("/todo-lists/".concat(e))},y=function(e,t){return T.put("/todo-lists/".concat(e),{title:t})};(function(e,t){T.post("/auth/login",{email:e,password:t})})("free@samuraijs.com","free");var E={tasks:[],messageError:""},S="GET_TASKS",M="PUT_TASKS",C="DELETE_TASKS",I="SET_TASKS",B="SET_ERROR_MESSAGE",N=function(e){return{type:S,getTasks:e}},A=function(e){return{type:C,id:e}},D=function(e){return{type:B,errorMessage:e}},P=function(){return function(){var e=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n=e.sent,t(N(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(D(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{tasks:t.getTasks});case M:return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(l.a)(Object(l.a)({},e),{},{title:t.newTitleTask})}))});case C:return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case I:return Object(l.a)(Object(l.a)({},e),{},{tasks:Object(g.a)(t.tasks)});case B:return Object(l.a)(Object(l.a)({},e),{},{messageError:t.errorMessage})}return e},K=function(e){var t=e.id,n=e.title,c=e.index,s=e.exchangeItems,u=Object(d.b)(),o=Object(a.useState)(""),i=Object(j.a)(o,2),l=i[0],p=i[1],k=Object(a.useState)(null),g=Object(j.a)(k,2),_=g[0],T=g[1],v=Object(a.useState)(!1),m=Object(j.a)(v,2),E=m[0],S=m[1],M=function(e){u(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:0===t.sent.data.resultCode&&n(A(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(D(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},C=function(e){u(function(e,t){return function(){var n=Object(x.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(e,t);case 3:r(P()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(D(n.t0.message));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,l)),T(null)},I=Object(a.useRef)(null),B=Object(f.a)({accept:"listItem",hover:function(e,t){if(I.current){var n=e.index,r=c;n!==r&&(s(n,r),e.index=r)}}}),N=Object(j.a)(B,2)[1],F=Object(O.a)({item:{type:"listItem",id:t,index:c},collect:function(e){return{isDragging:e.isDragging()}}}),K=Object(j.a)(F,2)[1];return K(N(I)),Object(r.jsxs)("ul",{ref:K(N(I)),className:E?b.a.taskDone:b.a.task,children:[Object(r.jsx)("div",{draggable:!0,onClick:function(){return T(t)},style:{display:"flex",alignItems:"center"},children:t===_?Object(r.jsx)("input",{value:l,autoFocus:!0,onBlur:function(){return C(t)},onChange:function(e){return p(e.currentTarget.value)}}):n},t),Object(r.jsxs)("div",{className:b.a.inputCheckboxInputButton,children:[Object(r.jsx)("input",{type:"checkbox",checked:E,onChange:function(){return S(!E)}}),Object(r.jsx)("button",{className:b.a.deleteButton,onClick:function(){return M(t)},children:"X"})]})]})},L=n(42),R=n.n(L),J=n(13),V=n.n(J),W=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),u=Object(j.a)(s,2),o=u[0],i=u[1],l=Object(d.b)();return Object(r.jsxs)("div",{className:V.a.wrapperTitleTask,children:[Object(r.jsxs)("div",{className:V.a.wrapperInputErrorMessage,children:[Object(r.jsx)("input",{className:o?V.a.errorInput:V.a.inputTitle,value:n,onChange:function(e){return c(e.currentTarget.value)}}),o&&Object(r.jsx)("span",{style:{color:"red"},children:"Enter character!"})]}),Object(r.jsx)("button",{className:V.a.buttonAddTitle,style:{marginLeft:50},onClick:function(){""!==n.trim()?(l(function(e){return function(){var t=Object(x.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:return t.next=5,v();case 5:r=t.sent,a=r.data,n(N(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(D(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),c(""),i(!1)):i(!0)},children:"add task"})]})},q=n(29),G=n.n(q),U=function(e){var t=e.errorMessage,n=Object(d.b)();return Object(r.jsxs)("div",{className:G.a.wrapperErrorModal,children:[Object(r.jsx)("h1",{style:{color:"red"},children:t}),Object(r.jsx)("button",{className:G.a.addOkButton,onClick:function(){n(D(""))},children:"ok"})]})},Z=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.taskPage.tasks})),n=Object(d.c)((function(e){return e.taskPage.messageError}));Object(a.useEffect)((function(){e(P())}),[]);var c=Object(a.useCallback)((function(n,r){var a,c=t[n];e((a=R()(t,{$splice:[[n,1],[r,0,c]]}),{type:I,tasks:a}))}),[t]),s=t.map((function(e,t){return Object(r.jsx)(K,Object(l.a)(Object(l.a)({},e),{},{index:t,exchangeItems:c}),e.id)}));return Object(r.jsx)("div",{className:b.a.wrapperBody,children:n.length>1?Object(r.jsx)(U,{errorMessage:n}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W,{}),Object(r.jsx)("div",{className:b.a.wrapperTask,children:s})]})})},z=n(79),Q=n(44),X=function(){return Object(r.jsx)("div",{className:i.a.wrapperApp,children:Object(r.jsx)(z.a,{backend:Q.a,children:Object(r.jsx)(Z,{})})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},$=n(9),H=n(43),ee=Object($.c)({taskPage:F}),te=Object($.d)(ee,Object($.a)(H.a));u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{store:te,children:Object(r.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[77,1,2]]]);
//# sourceMappingURL=main.956ab293.chunk.js.map