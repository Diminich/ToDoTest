(this.webpackJsonptodotest=this.webpackJsonptodotest||[]).push([[0],{10:function(e,t,n){e.exports={wrapperBody:"body_wrapperBody__3qt1z",wrapperTask:"body_wrapperTask__1mjWT",task:"body_task__VnKp5",taskDone:"body_taskDone__vTfVp",inputCheckboxInputButton:"body_inputCheckboxInputButton__WMJNs",deleteButton:"body_deleteButton__2j6R8"}},14:function(e,t,n){e.exports={wrapperTitleTask:"TitleTask_wrapperTitleTask__3gZgc",wrapperInputErrorMessage:"TitleTask_wrapperInputErrorMessage__Er3eV",inputTitle:"TitleTask_inputTitle__3MQWf",errorInput:"TitleTask_errorInput__hlgNC",errorMessage:"TitleTask_errorMessage__2s77e",buttonAddTitle:"TitleTask_buttonAddTitle__28n0k"}},29:function(e,t,n){e.exports={wrapperErrorModal:"errorModal_wrapperErrorModal__29ALo",addOkButton:"errorModal_addOkButton__24O4q"}},39:function(e,t,n){e.exports={wrapperApp:"app_wrapperApp__pn1Zb"}},53:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),s=n(18),u=n.n(s),i=(n(53),n(39)),o=n.n(i),l=n(3),p=n(10),b=n.n(p),j=n(4),d=n(8),f=n(80),O=n(81),k=n(7),g=n.n(k),h=n(13),x=n(45),_=n(41),T=n.n(_).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}}),v=function(){return T.get("/todo-lists")},m=function(e){return T.post("/todo-lists",{title:e})},w=function(e){return T.delete("/todo-lists/".concat(e))},y=function(e,t){return T.put("/todo-lists/".concat(e),{title:t})},E={tasks:[],messageError:"",isLogin:!1},S="GET_TASKS",I="PUT_TASKS",M="DELETE_TASKS",C="SET_TASKS",B="SET_ERROR_MESSAGE",N="SET_LOGIN",A=function(e){return{type:S,getTasks:e}},L=function(e){return{type:M,id:e}},P=function(e){return{type:B,errorMessage:e}},D=function(){return function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n=e.sent,t(A(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(P(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{tasks:t.getTasks});case I:return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id!==t.id?e:Object(l.a)(Object(l.a)({},e),{},{title:t.newTitleTask})}))});case M:return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case C:return Object(l.a)(Object(l.a)({},e),{},{tasks:Object(x.a)(t.tasks)});case B:return Object(l.a)(Object(l.a)({},e),{},{messageError:t.errorMessage});case N:return Object(l.a)(Object(l.a)({},e),{},{isLogin:!0})}return e},K=function(e){var t=e.id,n=e.title,c=e.index,s=e.exchangeItems,u=Object(j.b)(),i=Object(a.useState)(""),o=Object(d.a)(i,2),l=o[0],p=o[1],k=Object(a.useState)(null),x=Object(d.a)(k,2),_=x[0],T=x[1],v=Object(a.useState)(!1),m=Object(d.a)(v,2),E=m[0],S=m[1],I=function(e){u(function(e){return function(){var t=Object(h.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:0===t.sent.data.resultCode&&n(L(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(P(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},M=function(e){u(function(e,t){return function(){var n=Object(h.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(e,t);case 3:r(D()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r(P(n.t0.message));case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,l)),T(null)},C=Object(a.useRef)(null),B=Object(f.a)({accept:"listItem",hover:function(e,t){if(C.current){var n=e.index,r=c;n!==r&&(s(n,r),e.index=r)}}}),N=Object(d.a)(B,2)[1],A=Object(O.a)({item:{type:"listItem",id:t,index:c},collect:function(e){return{isDragging:e.isDragging()}}}),F=Object(d.a)(A,2)[1];return F(N(C)),Object(r.jsxs)("ul",{ref:F(N(C)),className:E?b.a.taskDone:b.a.task,children:[Object(r.jsx)("div",{draggable:!0,onClick:function(){return T(t)},style:{display:"flex",alignItems:"center"},children:t===_?Object(r.jsx)("input",{value:l,autoFocus:!0,onBlur:function(){return M(t)},onChange:function(e){return p(e.currentTarget.value)}}):n},t),Object(r.jsxs)("div",{className:b.a.inputCheckboxInputButton,children:[Object(r.jsx)("input",{type:"checkbox",checked:E,onChange:function(){return S(!E)}}),Object(r.jsx)("button",{className:b.a.deleteButton,onClick:function(){return I(t)},children:"X"})]})]})},R=n(42),G=n.n(R),J=n(14),V=n.n(J),W=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),u=Object(d.a)(s,2),i=u[0],o=u[1],l=Object(j.b)();return Object(r.jsxs)("div",{className:V.a.wrapperTitleTask,children:[Object(r.jsxs)("div",{className:V.a.wrapperInputErrorMessage,children:[Object(r.jsx)("input",{className:i?V.a.errorInput:V.a.inputTitle,value:n,onChange:function(e){return c(e.currentTarget.value)}}),i&&Object(r.jsx)("span",{style:{color:"red"},children:"Enter character!"})]}),Object(r.jsx)("button",{className:V.a.buttonAddTitle,style:{marginLeft:50},onClick:function(){""!==n.trim()?(l(function(e){return function(){var t=Object(h.a)(g.a.mark((function t(n){var r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:return t.next=5,v();case 5:r=t.sent,a=r.data,n(A(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n(P(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n)),c(""),o(!1)):o(!0)},children:"add task"})]})},q=n(29),U=n.n(q),Z=function(e){var t=e.errorMessage,n=Object(j.b)();return Object(r.jsxs)("div",{className:U.a.wrapperErrorModal,children:[Object(r.jsx)("h1",{style:{color:"red"},children:t}),Object(r.jsx)("button",{className:U.a.addOkButton,onClick:function(){n(P(""))},children:"ok"})]})},z=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.taskPage.tasks})),n=Object(j.c)((function(e){return e.taskPage.messageError}));Object(a.useEffect)((function(){e(D())}),[]);var c=Object(a.useCallback)((function(n,r){var a,c=t[n];e((a=G()(t,{$splice:[[n,1],[r,0,c]]}),{type:C,tasks:a}))}),[t]),s=t.map((function(e,t){return Object(r.jsx)(K,Object(l.a)(Object(l.a)({},e),{},{index:t,exchangeItems:c}),e.id)}));return Object(r.jsx)("div",{className:b.a.wrapperBody,children:n.length>1?Object(r.jsx)(Z,{errorMessage:n}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W,{}),Object(r.jsx)("div",{className:b.a.wrapperTask,children:s})]})})},Q=n(79),X=n(44),Y=function(){var e=Object(j.c)((function(e){return e.taskPage.isLogin}));return Object(r.jsx)("div",{className:o.a.wrapperApp,children:e&&Object(r.jsx)(Q.a,{backend:X.a,children:Object(r.jsx)(z,{})})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},H=n(9),ee=n(43),te=Object(H.c)({taskPage:F}),ne=Object(H.d)(te,Object(H.a)(ee.a));u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(j.a,{store:ne,children:Object(r.jsx)(Y,{})})}),document.getElementById("root")),$()}},[[77,1,2]]]);
//# sourceMappingURL=main.3dde5b72.chunk.js.map